{"ast":null,"code":"var _jsxFileName = \"/Users/joeljani/3.Personal_Projects/1.Programming/my_gym_app/frontend/src/app/App.js\";\nimport React, { useEffect } from 'react';\nimport { Container } from 'reactstrap';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Loader from \"../misc/Loader\";\nimport WorkoutContainer from \"../workouts/WorkoutContainer\";\nimport NetworkErrorMessage from \"../misc/NetworkErrorMessage\";\nconst defaultServerUrl = \"http://127.0.0.1:8080/\";\n\nconst App = () => {\n  const serverUrl = useSelector(state => state.serverUrl);\n  const serverError = useSelector(state => state.serverError);\n  const dispatch = useDispatch();\n\n  const fetchServerURL = () => {\n    dispatch(async dispatch => {\n      fetch('application.json').then(response => response.json()).then(json => {\n        const SERVER_URL = json.SERVER_URL ? json.SERVER_URL : defaultServerUrl;\n        dispatch({\n          type: \"SERVER_URL_LOADED\",\n          serverUrl: SERVER_URL\n        });\n        dispatch({\n          type: \"SERVER_URL_LOADING\",\n          loading: false\n        });\n      }).catch(error => {\n        dispatch({\n          type: \"SERVER_URL_LOAD_FAILED\",\n          serverError: true\n        });\n        dispatch({\n          type: \"SERVER_URL_LOADING\",\n          loading: false\n        });\n      });\n      dispatch({\n        type: \"SERVER_URL_LOADING\",\n        loading: true\n      });\n    });\n  };\n\n  useEffect(fetchServerURL, []);\n  let content;\n\n  if (serverUrl === null) {\n    content = React.createElement(Loader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    });\n  } else if (serverError) {\n    content = React.createElement(NetworkErrorMessage, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    });\n  } else {\n    content = React.createElement(WorkoutContainer, {\n      serverUrl: serverUrl,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    });\n  }\n\n  return React.createElement(Container, {\n    fluid: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, content);\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/joeljani/3.Personal_Projects/1.Programming/my_gym_app/frontend/src/app/App.js"],"names":["React","useEffect","Container","useSelector","useDispatch","Loader","WorkoutContainer","NetworkErrorMessage","defaultServerUrl","App","serverUrl","state","serverError","dispatch","fetchServerURL","fetch","then","response","json","SERVER_URL","type","loading","catch","error","content"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,SAAR,QAAwB,YAAxB;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,aAAvC;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AACA,OAAOC,gBAAP,MAA6B,8BAA7B;AACA,OAAOC,mBAAP,MAAgC,6BAAhC;AAEA,MAAMC,gBAAgB,GAAG,wBAAzB;;AAEA,MAAMC,GAAG,GAAG,MAAM;AAEd,QAAMC,SAAS,GAAGP,WAAW,CAACQ,KAAK,IAAIA,KAAK,CAACD,SAAhB,CAA7B;AACA,QAAME,WAAW,GAAGT,WAAW,CAACQ,KAAK,IAAIA,KAAK,CAACC,WAAhB,CAA/B;AACA,QAAMC,QAAQ,GAAGT,WAAW,EAA5B;;AAEA,QAAMU,cAAc,GAAG,MAAM;AACzBD,IAAAA,QAAQ,CACJ,MAAMA,QAAN,IAAkB;AACdE,MAAAA,KAAK,CAAC,kBAAD,CAAL,CACKC,IADL,CACUC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADtB,EAEKF,IAFL,CAEUE,IAAI,IAAI;AACV,cAAMC,UAAU,GAAGD,IAAI,CAACC,UAAL,GAAkBD,IAAI,CAACC,UAAvB,GAAoCX,gBAAvD;AACAK,QAAAA,QAAQ,CAAC;AAACO,UAAAA,IAAI,EAAE,mBAAP;AAA4BV,UAAAA,SAAS,EAAES;AAAvC,SAAD,CAAR;AACAN,QAAAA,QAAQ,CAAC;AAACO,UAAAA,IAAI,EAAE,oBAAP;AAA6BC,UAAAA,OAAO,EAAE;AAAtC,SAAD,CAAR;AACH,OANL,EAOKC,KAPL,CAOWC,KAAK,IAAI;AACZV,QAAAA,QAAQ,CAAC;AAACO,UAAAA,IAAI,EAAE,wBAAP;AAAiCR,UAAAA,WAAW,EAAE;AAA9C,SAAD,CAAR;AACAC,QAAAA,QAAQ,CAAC;AAACO,UAAAA,IAAI,EAAE,oBAAP;AAA6BC,UAAAA,OAAO,EAAE;AAAtC,SAAD,CAAR;AACH,OAVL;AAWAR,MAAAA,QAAQ,CAAC;AAACO,QAAAA,IAAI,EAAE,oBAAP;AAA6BC,QAAAA,OAAO,EAAE;AAAtC,OAAD,CAAR;AACH,KAdG,CAAR;AAgBH,GAjBD;;AAmBApB,EAAAA,SAAS,CAACa,cAAD,EAAgB,EAAhB,CAAT;AAEA,MAAIU,OAAJ;;AACA,MAAId,SAAS,KAAK,IAAlB,EAAwB;AACpBc,IAAAA,OAAO,GAAG,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAV;AACH,GAFD,MAEO,IAAIZ,WAAJ,EAAiB;AACpBY,IAAAA,OAAO,GAAG,oBAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAV;AACH,GAFM,MAEA;AACHA,IAAAA,OAAO,GAAG,oBAAC,gBAAD;AAAkB,MAAA,SAAS,EAAEd,SAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAV;AACH;;AAGD,SACI,oBAAC,SAAD;AAAW,IAAA,KAAK,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKc,OADL,CADJ;AAKH,CA1CD;;AA4CA,eAAef,GAAf","sourcesContent":["import React, {useEffect} from 'react';\nimport {Container} from 'reactstrap'\nimport {useSelector, useDispatch} from \"react-redux\";\nimport Loader from \"../misc/Loader\";\nimport WorkoutContainer from \"../workouts/WorkoutContainer\";\nimport NetworkErrorMessage from \"../misc/NetworkErrorMessage\";\n\nconst defaultServerUrl = \"http://127.0.0.1:8080/\"\n\nconst App = () => {\n\n    const serverUrl = useSelector(state => state.serverUrl)\n    const serverError = useSelector(state => state.serverError)\n    const dispatch = useDispatch();\n\n    const fetchServerURL = () => {\n        dispatch(\n            async dispatch => {\n                fetch('application.json')\n                    .then(response => response.json())\n                    .then(json => {\n                        const SERVER_URL = json.SERVER_URL ? json.SERVER_URL : defaultServerUrl;\n                        dispatch({type: \"SERVER_URL_LOADED\", serverUrl: SERVER_URL})\n                        dispatch({type: \"SERVER_URL_LOADING\", loading: false})\n                    })\n                    .catch(error => {\n                        dispatch({type: \"SERVER_URL_LOAD_FAILED\", serverError: true})\n                        dispatch({type: \"SERVER_URL_LOADING\", loading: false})\n                    })\n                dispatch({type: \"SERVER_URL_LOADING\", loading: true})\n            }\n        )\n    }\n\n    useEffect(fetchServerURL,[]);\n\n    let content;\n    if (serverUrl === null) {\n        content = <Loader/>\n    } else if (serverError) {\n        content = <NetworkErrorMessage/>\n    } else {\n        content = <WorkoutContainer serverUrl={serverUrl}/>\n    }\n\n\n    return (\n        <Container fluid>\n            {content}\n        </Container>\n    )\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}