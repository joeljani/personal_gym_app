{"ast":null,"code":"var _jsxFileName = \"/Users/joeljani/3.Personal_Projects/1.Programming/my_gym_app/frontend/src/workouts/WorkoutContainer.js\";\nimport React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport WorkoutWeekTable from \"./WorkoutWeekTable\";\nimport { Row } from \"reactstrap\";\nimport Col from \"reactstrap/es/Col\";\nimport Container from \"reactstrap/es/Container\";\nimport CurrentWeek from \"./CurrentWeek\";\nimport moment from \"moment\";\n\nconst WorkoutContainer = ({\n  serverUrl\n}) => {\n  const workouts = useSelector(state => state.workouts);\n  const currentWeek = useSelector(state => state.currentWeek);\n  const dispatch = useDispatch();\n\n  const fetchWorkouts = () => {\n    dispatch(async dispatch => {\n      const res = await fetch(serverUrl + \"/workouts\");\n      const data = await res.json();\n      dispatch({\n        type: \"WORKOUTS_FETCHED\",\n        workouts: data\n      });\n    });\n  };\n\n  useEffect(fetchWorkouts, [serverUrl]);\n\n  const getWorkoutsOfCurrentWeek = workouts => {\n    console.log(currentWeek);\n    let currentWeekTransformed = currentWeek.map(d => {\n      if (d.getDate() < 10 && d.getMonth() > 10) return \"2020-\" + \"0\" + d.getDate() + \"-\" + d.getMonth();else if (d.getDate() < 10 && d.getMonth() < 10) return \"2020-\" + \"0\" + d.getDate() + \"-\" + \"0\" + d.getMonth();else if (d.getDate() > 10 && d.getMonth() > 10) return \"2020-\" + d.getDate() + \"-\" + d.getMonth();else if (d.getDate() > 10 && d.getMonth() < 10) return \"2020-\" + d.getDate() + \"-\" + \"0\" + d.getMonth();\n    });\n    const workoutsOfCurrentWeek = workouts.filter(workout => currentWeekTransformed.includes(workout.date));\n    console.log(workoutsOfCurrentWeek);\n    return workoutsOfCurrentWeek;\n  };\n\n  return React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(Col, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"Header\"))), React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(Col, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(CurrentWeek, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }))), React.createElement(WorkoutWeekTable, {\n    workouts: getWorkoutsOfCurrentWeek(workouts),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }));\n};\n\nexport default WorkoutContainer;","map":{"version":3,"sources":["/Users/joeljani/3.Personal_Projects/1.Programming/my_gym_app/frontend/src/workouts/WorkoutContainer.js"],"names":["React","useEffect","useSelector","useDispatch","WorkoutWeekTable","Row","Col","Container","CurrentWeek","moment","WorkoutContainer","serverUrl","workouts","state","currentWeek","dispatch","fetchWorkouts","res","fetch","data","json","type","getWorkoutsOfCurrentWeek","console","log","currentWeekTransformed","map","d","getDate","getMonth","workoutsOfCurrentWeek","filter","workout","includes","date"],"mappings":"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","sourcesContent":["import React, {useEffect} from \"react\";\nimport {useSelector, useDispatch} from \"react-redux\";\nimport WorkoutWeekTable from \"./WorkoutWeekTable\";\nimport {Row} from \"reactstrap\";\nimport Col from \"reactstrap/es/Col\";\nimport Container from \"reactstrap/es/Container\";\nimport CurrentWeek from \"./CurrentWeek\";\nimport moment from \"moment\";\n\n\nconst WorkoutContainer = ({serverUrl}) => {\n\n    const workouts = useSelector(state => state.workouts);\n    const currentWeek = useSelector(state => state.currentWeek)\n    const dispatch = useDispatch();\n\n    const fetchWorkouts = () => {\n        dispatch(\n            async dispatch => {\n                const res = await fetch(serverUrl + \"/workouts\");\n                const data = await res.json();\n                dispatch({type: \"WORKOUTS_FETCHED\", workouts: data});\n            }\n        );\n    };\n    useEffect(fetchWorkouts, [serverUrl]);\n\n    const getWorkoutsOfCurrentWeek = (workouts) => {\n        console.log(currentWeek)\n        let currentWeekTransformed = currentWeek.map(d => {\n            if(d.getDate() < 10 && d.getMonth() > 10) return \"2020-\"+\"0\" + d.getDate() + \"-\" + d.getMonth()\n            else if(d.getDate() < 10 && d.getMonth() < 10) return \"2020-\"+\"0\" + d.getDate() + \"-\" + \"0\" + d.getMonth()\n            else if(d.getDate() > 10 && d.getMonth() > 10) return  \"2020-\"+ d.getDate() + \"-\" + d.getMonth()\n            else if(d.getDate() > 10 && d.getMonth() < 10) return \"2020-\"+d.getDate() + \"-\" + \"0\" + d.getMonth()\n        })\n        const workoutsOfCurrentWeek = workouts.filter(workout => currentWeekTransformed.includes(workout.date))\n        console.log(workoutsOfCurrentWeek)\n        return workoutsOfCurrentWeek;\n    }\n\n\n    return (\n        <Container>\n            <Row>\n                <Col><h1>Header</h1></Col>\n            </Row>\n            <Row>\n                <Col><CurrentWeek/></Col>\n            </Row>\n            <WorkoutWeekTable workouts={getWorkoutsOfCurrentWeek(workouts)}/>\n        </Container>\n    )\n\n\n}\n\nexport default WorkoutContainer;\n"]},"metadata":{},"sourceType":"module"}