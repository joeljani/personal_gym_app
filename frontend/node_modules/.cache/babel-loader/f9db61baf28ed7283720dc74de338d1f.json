{"ast":null,"code":"var _jsxFileName = \"/Users/joeljani/3.Personal_Projects/1.Programming/my_gym_app/frontend/src/workouts/CurrentWeekPicker.js\";\nimport React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Button, Modal, ModalBody, ModalHeader } from \"reactstrap\";\nimport DayPicker from \"react-day-picker\";\nimport 'react-day-picker/lib/style.css';\nimport moment from \"moment\";\nimport 'moment/locale/de';\n\nconst CurrentWeekPicker = () => {\n  const dispatch = useDispatch();\n  const [hoverRange, setHoverRange] = useState(undefined);\n  const [selectedDays, setSelectedDays] = useState(getWeekDays(getWeekRange(new Date()).from)); //initial week = actual current week\n\n  dispatch({\n    type: \"SET_CURRENT_WEEK\",\n    currentWeek: selectedDays\n  });\n  const [modal, setModal] = useState(false);\n\n  const toggle = () => {\n    setModal(!modal);\n    dispatch({\n      type: \"SET_CURRENT_WEEK\",\n      currentWeek: selectedDays\n    });\n  };\n\n  const handleDayChange = date => {\n    setSelectedDays(getWeekDays(getWeekRange(date).from));\n  };\n\n  const handleDayEnter = date => {\n    setHoverRange(getWeekRange(date));\n  };\n\n  const handleDayLeave = () => {\n    setHoverRange(undefined);\n  };\n\n  const handleWeekClick = (weekNumber, days, e) => {\n    setSelectedDays(days);\n  };\n\n  const daysAreSelected = selectedDays.length > 0;\n  const modifiers = {\n    hoverRange,\n    selectedRange: daysAreSelected && {\n      from: selectedDays[0],\n      to: selectedDays[6]\n    },\n    hoverRangeStart: hoverRange && hoverRange.from,\n    hoverRangeEnd: hoverRange && hoverRange.to,\n    selectedRangeStart: daysAreSelected && selectedDays[0],\n    selectedRangeEnd: daysAreSelected && selectedDays[6]\n  };\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: toggle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, selectedDays.length === 7 && React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, moment(selectedDays[0]).format('LL'), \" \\u2013 \", ' ', moment(selectedDays[6]).format('LL'))), React.createElement(Modal, {\n    isOpen: modal,\n    toggle: toggle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(ModalHeader, {\n    toggle: toggle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Select a week\"), React.createElement(ModalBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(DayPicker, {\n    selectedDays: selectedDays,\n    locale: 'de',\n    firstDayOfWeek: 1,\n    showWeekNumbers: true,\n    showOutsideDays: true,\n    modifiers: modifiers,\n    onDayClick: handleDayChange,\n    onDayMouseEnter: handleDayEnter,\n    onDayMouseLeave: handleDayLeave,\n    onWeekClick: handleWeekClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }))));\n};\n\nconst getWeekDays = weekStart => {\n  const days = [weekStart];\n\n  for (let i = 1; i < 7; i += 1) {\n    days.push(moment(weekStart).add(i, 'days').toDate());\n  }\n\n  return days;\n};\n\nconst getWeekRange = date => {\n  return {\n    from: moment(date).startOf('week').toDate(),\n    to: moment(date).endOf('week').toDate()\n  };\n};\n\nexport default CurrentWeekPicker;","map":{"version":3,"sources":["/Users/joeljani/3.Personal_Projects/1.Programming/my_gym_app/frontend/src/workouts/CurrentWeekPicker.js"],"names":["React","useState","useDispatch","Button","Modal","ModalBody","ModalHeader","DayPicker","moment","CurrentWeekPicker","dispatch","hoverRange","setHoverRange","undefined","selectedDays","setSelectedDays","getWeekDays","getWeekRange","Date","from","type","currentWeek","modal","setModal","toggle","handleDayChange","date","handleDayEnter","handleDayLeave","handleWeekClick","weekNumber","days","e","daysAreSelected","length","modifiers","selectedRange","to","hoverRangeStart","hoverRangeEnd","selectedRangeStart","selectedRangeEnd","format","weekStart","i","push","add","toDate","startOf","endOf"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport {useDispatch} from \"react-redux\";\nimport {Button, Modal, ModalBody, ModalHeader} from \"reactstrap\";\nimport DayPicker from \"react-day-picker\";\nimport 'react-day-picker/lib/style.css';\nimport moment from \"moment\";\nimport 'moment/locale/de';\n\n\nconst CurrentWeekPicker = () => {\n\n    const dispatch = useDispatch();\n    const [hoverRange, setHoverRange] = useState(undefined)\n    const [selectedDays, setSelectedDays] = useState(getWeekDays(getWeekRange(new Date()).from)) //initial week = actual current week\n    dispatch({type: \"SET_CURRENT_WEEK\", currentWeek: selectedDays})\n    const [modal, setModal] = useState(false);\n\n    const toggle = () => {\n        setModal(!modal);\n        dispatch({type: \"SET_CURRENT_WEEK\", currentWeek: selectedDays})\n    }\n\n    const handleDayChange = date => {\n        setSelectedDays(getWeekDays(getWeekRange(date).from))\n    };\n\n    const handleDayEnter = date => {\n        setHoverRange(getWeekRange(date))\n    };\n\n    const handleDayLeave = () => {\n        setHoverRange(undefined)\n    };\n\n    const handleWeekClick = (weekNumber, days, e) => {\n        setSelectedDays(days)\n    };\n\n    const daysAreSelected = selectedDays.length > 0;\n\n    const modifiers = {\n        hoverRange,\n        selectedRange: daysAreSelected && {\n            from: selectedDays[0],\n            to: selectedDays[6],\n        },\n        hoverRangeStart: hoverRange && hoverRange.from,\n        hoverRangeEnd: hoverRange && hoverRange.to,\n        selectedRangeStart: daysAreSelected && selectedDays[0],\n        selectedRangeEnd: daysAreSelected && selectedDays[6],\n    };\n\n\n    return (\n        <div>\n            <Button onClick={toggle}>\n                {selectedDays.length === 7 && (\n                <div>\n                    {moment(selectedDays[0]).format('LL')} â€“ {' '}\n                    {moment(selectedDays[6]).format('LL')}\n                </div>\n                )}\n            </Button>\n            <Modal isOpen={modal} toggle={toggle}>\n                <ModalHeader toggle={toggle}>Select a week</ModalHeader>\n                <ModalBody>\n                    <DayPicker selectedDays={selectedDays}\n                               locale={'de'}\n                               firstDayOfWeek={1}\n                               showWeekNumbers\n                               showOutsideDays\n                               modifiers={modifiers}\n                               onDayClick={handleDayChange}\n                               onDayMouseEnter={handleDayEnter}\n                               onDayMouseLeave={handleDayLeave}\n                               onWeekClick={handleWeekClick}/>\n                </ModalBody>\n            </Modal>\n        </div>\n    )\n}\n\nconst getWeekDays = weekStart => {\n    const days = [weekStart];\n    for (let i = 1; i < 7; i += 1) {\n        days.push(\n            moment(weekStart)\n                .add(i, 'days')\n                .toDate()\n        );\n    }\n    return days;\n}\n\nconst getWeekRange = date => {\n    return {\n        from: moment(date)\n            .startOf('week')\n            .toDate(),\n        to: moment(date)\n            .endOf('week')\n            .toDate(),\n    };\n}\n\nexport default CurrentWeekPicker;\n"]},"metadata":{},"sourceType":"module"}